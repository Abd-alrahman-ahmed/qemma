"use strict";(global["webpackChunkal_qemma"]=global["webpackChunkal_qemma"]||[]).push([[89],{1244:(s,t,e)=>{e.d(t,{Z:()=>r});var o=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table mt-4"},[e("thead",[e("tr",[e("th",[s._v(s._s(s.$locales.t("lesson.name")))]),s.studentDetails?e("th",[s._v(s._s(s.$locales.t("lesson.start")))]):s._e(),e("th",[s._v(s._s(s.$locales.t("lesson.attend")))]),e("th",[s._v(s._s(s.$locales.t("lesson.quiz")))]),e("th",[s._v(s._s(s.$locales.t("lesson.homework")))]),e("th",[s._v(s._s(s.$locales.t("lesson.dictation")))]),e("th",[s._v(s._s(s.$locales.t("lesson.behaviour")))]),e("th",[s._v(s._s(s.$locales.t("lesson.interaction")))]),e("th",[s._v(s._s(s.$locales.t("lesson.paid")))]),e("th")])]),e("tbody",[0==s.lessonsCount?e("tr",[e("td",{attrs:{colspan:s.studentDetails?8:7}},[e("empty-state")],1)]):s._e(),s._l(s.studentLessons,(function(t,o){return e("tr",{key:"student-lesson-"+t.id},[e("td",[s._v(s._s(s.studentDetails?t.lesson.name:t.student.name))]),s.studentDetails?e("td",[s._v(s._s(s.$moment(t.start).local().locale(s.$locales.getCurrentLocaleCode()).format("MMMM Do dddd YYYY, h:mm:ss a")))]):s._e(),e("td",[s._v(s._s(s.$locales.t("lookups.attend."+(t.hasAttend?"1":"2"))))]),e("td",[s._v(s._s(t.quizDegree)+"/"+s._s(t.lesson.quizDegree))]),e("td",[s._v(s._s(t.homeworkDegree)+"/"+s._s(t.lesson.homeworkDegree))]),e("td",[s._v(s._s(t.inClassExamDegree)+"/"+s._s(t.lesson.inClassExamDegree))]),e("td",[s._v(s._s(t.behaviourDegree)+"/"+s._s(t.lesson.behaviourDegree))]),e("td",[s._v(s._s(t.interactionDegree)+"/"+s._s(t.lesson.interactionDegree))]),e("td",[s._v(s._s(t.paidAmount))]),e("td",[e("a",{attrs:{href:"Javascript:void(0);"},on:{click:function(e){return s.save(t,o)}}},[s._v(s._s(s.$locales.t("options.edit")))]),s._v(" | "),e("a",{attrs:{href:"Javascript:void(0);"},on:{click:function(e){return s.remove(t,o)}}},[s._v(s._s(s.$locales.t("options.delete")))])])])}))],2)])])},a=[];const n={name:"StudentLessonsTable",props:{studentLessons:{type:Array},studentDetails:{type:Boolean,default:!1}},computed:{lessonsCount(){return void 0==this.studentLessons?0:this.studentLessons.length}},methods:{save(s,t){this.$bus.$emit("init-save-student-lesson-modal",s,t,s.groupId,s.lesson,s.student)},remove(s,t){this.$bus.$emit("init-delete-modal",`studentlessons/${s.id}?studentId=${s.studentId}&lessonId=${s.lessonId}`,t)}}},l=n;var i=e(1001),d=(0,i.Z)(l,o,a,!1,null,null,null);const r=d.exports},8089:(s,t,e)=>{e.r(t),e.d(t,{default:()=>c});var o=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"students"},[e("h1",{staticClass:"mt-2 mb-5"},[s._v(s._s(s.$locales.t("lesson.details.title")))]),e("div",{staticClass:"card mb-2"},[e("div",{staticClass:"row d-flex align-items-center"},[e("div",{staticClass:"col-md-2 d-flex justify-content-center"},[e("font-awesome-icon",{staticClass:"icon-size",attrs:{icon:"fas fa-school"}})],1),e("div",{staticClass:"col-md-10"},[e("div",{staticClass:"row card-body"},[e("div",{staticClass:"col-4"},[e("h5",{staticClass:"card-title",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:s.$locales.t("lesson.name")}},[s._v(" "+s._s(s.lesson.name)+" ")]),e("h6",{staticClass:"card-text",attrs:{"data-toggle":"tooltip","data-placement":"bottom",title:s.$locales.t("lesson.start")}},[s._v(" "+s._s(s.$moment(s.lesson.start).local().locale(s.$locales.getCurrentLocaleCode()).format("MMMM Do dddd YYYY, h:mm:ss a"))+" ")])]),e("div",{staticClass:"col-6"},[e("a",{attrs:{href:"Javascript:void(0);"},on:{click:s.saveLesson}},[e("font-awesome-icon",{attrs:{icon:"fas fa-pen","data-toggle":"tooltip","data-placement":"bottom",title:s.$locales.t("options.edit")}})],1)])])])])]),e("hr"),e("h5",{staticClass:"mt-2 mb-4"},[s._v(" "+s._s(s.$locales.t("students.title"))+" "),e("button",{staticClass:"btn btn-primary btn-sm text-white m-2",on:{click:function(t){return s.save(null,0)}}},[e("font-awesome-icon",{attrs:{icon:"fas fa-circle-plus"}}),s._v(" "+s._s(s.$locales.t("options.add"))+" ")],1)]),e("app-filter",{attrs:{"init-filter":s.initFilter,"filter-props":s.filterProps},on:{apply:s.applyFilter}}),e("student-lessons-table",{attrs:{studentLessons:s.studentLessons}}),e("app-pagination",{attrs:{totalCount:s.count,pageSize:s.pageSize},on:{changePage:s.getStudentLessons}})],1)},a=[],n=e(1244);const l={name:"LessonDetails",components:{StudentLessonsTable:n.Z},data:()=>({lesson:{},studentLessons:[],count:0,pageSize:5}),computed:{filterProps(){return[]},initFilter(){return[{field:"lessonId",operator:"eq",value:this.$route.params.id}]}},created(){this.$bus.$on("student-lesson-modal-done",((s,t,e)=>{s?Object.assign(this.studentLessons[t],e):this.studentLessons.push(e)})),this.$bus.$on("delete-done",(s=>{this.studentLessons.splice(s,1)}))},mounted(){this.getLesson()},methods:{getLesson(){this.$http.send({url:`${this.$BACKEND_APP_URL}/lessons/${this.$route.params.id}`}).then((s=>{this.lesson=s}))},saveLesson(){this.$bus.$emit("init-save-lesson-modal",this.lesson,0,this.lesson.groupId)},getStudentLessons(s=1,t=""){this.$http.send({url:`${this.$BACKEND_APP_URL}/studentlessons`,params:{pageNo:s,pageSize:this.pageSize,queryFilter:t}}).then((s=>{this.studentLessons=s.data??[],this.count=s.count}))},applyFilter(s){this.getStudentLessons(1,s)},save(s,t){this.$bus.$emit("init-save-student-lesson-modal",s,t,this.lesson.groupId,this.lesson,null)}}},i=l;var d=e(1001),r=(0,d.Z)(i,o,a,!1,null,"5fba26f4",null);const c=r.exports}}]);
//# sourceMappingURL=89.ae679fbc.js.map