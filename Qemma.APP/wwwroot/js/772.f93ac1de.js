"use strict";(global["webpackChunkal_qemma"]=global["webpackChunkal_qemma"]||[]).push([[772],{1772:(t,e,s)=>{s.r(e),s.d(e,{default:()=>i});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("h1",{staticClass:"mt-2 mb-5"},[t._v(t._s(t.$locales.t("groups.title")))]),s("app-filter",{attrs:{"filter-props":t.filterProps},on:{apply:t.applyFilter}}),s("div",{staticClass:"table-responsive mt-4"},[s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",[t._v(t._s(t.$locales.t("group.year")))]),s("th",[t._v(t._s(t.$locales.t("group.studetsCount")))]),s("th")])]),s("tbody",[0==t.groups.length?s("tr",[s("td",{attrs:{colspan:"4"}},[s("empty-state")],1)]):t._e(),t._l(t.groups,(function(e){return s("tr",{key:"group-"+e.id},[s("td",[t._v(t._s(t.$locales.t("lookups.year."+e.year)))]),s("td",[t._v(t._s(t.studentCount(e.studentIds)))]),s("td",[s("router-link",{attrs:{to:"/groups/"+e.id}},[t._v(t._s(t.$locales.t("options.details")))])],1)])}))],2)])])],1)},r=[];const o={name:"Groups",data:()=>({groups:[],count:0,pageSize:-1}),created(){this.$bus.$on("group-modal-done",((t,e,s)=>{t?Object.assign(this.groups[e],s):this.groups.push(s)}))},computed:{filterProps(){return[{name:this.$locales.t("group.year"),value:"year",type:"select",options:this.$locales.getYears()}]}},mounted(){this.get()},methods:{studentCount(t){return void 0==t?0:t.length},get(t=1,e=""){this.$http.send({url:`${this.$BACKEND_APP_URL}/groups`,params:{pageNo:t,pageSize:this.pageSize,orderBy:"year",queryFilter:e}}).then((t=>{this.groups=t.data??[],this.count=t.count}))},applyFilter(t){this.get(1,t)},save(t,e){this.$bus.$emit("init-save-group-modal",t,e)}}},l=o;var u=s(1001),p=(0,u.Z)(l,a,r,!1,null,"51498976",null);const i=p.exports}}]);
//# sourceMappingURL=772.f93ac1de.js.map