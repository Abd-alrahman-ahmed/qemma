{"version":3,"file":"js/772.f93ac1de.js","mappings":"2IAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,SAASC,EAAE,oBAAoBN,EAAG,aAAa,CAACO,MAAM,CAAC,eAAeX,EAAIY,aAAaC,GAAG,CAAC,MAAQb,EAAIc,eAAeV,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,QAAQ,CAACE,YAAY,SAAS,CAACF,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,SAASC,EAAE,kBAAkBN,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,SAASC,EAAE,0BAA0BN,EAAG,UAAUA,EAAG,QAAQ,CAAuB,GAArBJ,EAAIe,OAAOC,OAAaZ,EAAG,KAAK,CAACA,EAAG,KAAK,CAACO,MAAM,CAAC,QAAU,MAAM,CAACP,EAAG,gBAAgB,KAAKJ,EAAIiB,KAAKjB,EAAIkB,GAAIlB,EAAU,QAAE,SAASmB,GAAO,OAAOf,EAAG,KAAK,CAACgB,IAAI,SAAWD,EAAME,IAAI,CAACjB,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,SAASC,EAAG,gBAAmBS,EAAU,UAAQf,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIsB,aAAaH,EAAMI,gBAAgBnB,EAAG,KAAK,CAACA,EAAG,cAAc,CAACO,MAAM,CAAC,GAAM,WAAcQ,EAAQ,KAAK,CAACnB,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,SAASC,EAAE,wBAAwB,SAAQ,QAAQ,IACn+Bc,EAAkB,GCqCtB,SACAC,KAAAA,SACAC,KAAAA,KAAAA,CACAX,OAAAA,GACAY,MAAAA,EACAC,UAAAA,IAEAC,UACA,4CACA,EACAC,OAAAA,OAAAA,KAAAA,OAAAA,GAAAA,GADA,wBAIAC,SAAAA,CACAnB,cACA,OACA,CAAAa,KAAAA,KAAAA,SAAAA,EAAAA,cAAAO,MAAAA,OAAAC,KAAAA,SAAAC,QAAAA,KAAAA,SAAAA,eAIAC,UACA,YAEAC,QAAAA,CACAd,aAAAA,GACA,mBACA,UAEAe,IAAAA,EAAAA,EAAAA,EAAAA,IACA,iBACAC,IAAAA,GAAAA,KAAAA,0BACAC,OAAAA,CACAC,OAAAA,EACAZ,SAAAA,KAAAA,SACAa,QAAAA,OACAC,YAAAA,KAEAC,MAAAC,IACA,uBACA,uBAGA9B,YAAAA,GACA,eAEA+B,KAAAA,EAAAA,GACA,gDCpFkQ,I,cCQ9PC,GAAY,OACd,EACA/C,EACAyB,GACA,EACA,KACA,WACA,MAIF,QAAesB,EAAiB","sources":["webpack://al-qemma/./src/views/Groups.vue?0f36","webpack://al-qemma/src/views/Groups.vue","webpack://al-qemma/./src/views/Groups.vue?e9f4","webpack://al-qemma/./src/views/Groups.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('h1',{staticClass:\"mt-2 mb-5\"},[_vm._v(_vm._s(_vm.$locales.t('groups.title')))]),_c('app-filter',{attrs:{\"filter-props\":_vm.filterProps},on:{\"apply\":_vm.applyFilter}}),_c('div',{staticClass:\"table-responsive mt-4\"},[_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$locales.t('group.year')))]),_c('th',[_vm._v(_vm._s(_vm.$locales.t('group.studetsCount')))]),_c('th')])]),_c('tbody',[(_vm.groups.length == 0)?_c('tr',[_c('td',{attrs:{\"colspan\":\"4\"}},[_c('empty-state')],1)]):_vm._e(),_vm._l((_vm.groups),function(group){return _c('tr',{key:'group-' + group.id},[_c('td',[_vm._v(_vm._s(_vm.$locales.t((\"lookups.year.\" + (group.year)))))]),_c('td',[_vm._v(_vm._s(_vm.studentCount(group.studentIds)))]),_c('td',[_c('router-link',{attrs:{\"to\":(\"/groups/\" + (group.id))}},[_vm._v(_vm._s(_vm.$locales.t('options.details')))])],1)])})],2)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"home\">\r\n    <h1 class=\"mt-2 mb-5\">{{$locales.t('groups.title')}}</h1>\r\n    <!-- <button @click=\"save(null, 0)\" class=\"btn btn-primary btn-sm text-white m-2\">\r\n      <font-awesome-icon icon=\"fas fa-circle-plus\"/> {{$locales.t('options.add')}}\r\n    </button> -->\r\n\r\n    <app-filter :filter-props=\"filterProps\" @apply=\"applyFilter\" />\r\n    <div class=\"table-responsive mt-4\">\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>{{$locales.t('group.year')}}</th>\r\n            <th>{{$locales.t('group.studetsCount')}}</th>\r\n            <th ></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-if=\"groups.length == 0\">\r\n            <td colspan=\"4\"><empty-state /></td>\r\n          </tr>\r\n          <tr v-for=\"group in groups\" :key=\"'group-' + group.id\">\r\n            <td>{{$locales.t(`lookups.year.${group.year}`)}}</td>\r\n            <td>{{studentCount(group.studentIds)}}</td>\r\n            <td>\r\n              <router-link :to=\"`/groups/${group.id}`\">{{$locales.t('options.details')}}</router-link>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <!-- <app-pagination :totalCount=\"count\" @changePage=\"get\" /> -->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Groups',\r\n  data: () => ({\r\n    groups: [],\r\n    count: 0,\r\n    pageSize: -1\r\n  }),\r\n  created() {\r\n    this.$bus.$on(\"group-modal-done\", (isEdit, id, group) => {\r\n      if (!isEdit) this.groups.push(group);\r\n      else Object.assign(this.groups[id], group);\r\n    });\r\n  },\r\n  computed: {\r\n    filterProps() {\r\n      return [\r\n        { name: this.$locales.t('group.year'), value: 'year', type: 'select', options: this.$locales.getYears() }\r\n      ]\r\n    }\r\n  },\r\n  mounted() {\r\n    this.get();\r\n  },\r\n  methods: {\r\n    studentCount(students) {\r\n      if (students == undefined) return 0;\r\n      return students.length;\r\n    },\r\n    get(pageNo=1, filters=\"\") {\r\n      this.$http.send({\r\n        url: `${this.$BACKEND_APP_URL}/groups`,\r\n        params: {\r\n          pageNo: pageNo,\r\n          pageSize: this.pageSize,\r\n          orderBy: \"year\",\r\n          queryFilter: filters\r\n        }\r\n      }).then(pageData => {\r\n        this.groups = pageData.data ?? [];\r\n        this.count = pageData.count;\r\n      });\r\n    },\r\n    applyFilter(filters) {\r\n      this.get(1, filters)\r\n    },\r\n    save(group, index) {\r\n      this.$bus.$emit(\"init-save-group-modal\", group, index);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.home-title {\r\n  margin-top: 110px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Groups.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Groups.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Groups.vue?vue&type=template&id=51498976&scoped=true&\"\nimport script from \"./Groups.vue?vue&type=script&lang=js&\"\nexport * from \"./Groups.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Groups.vue?vue&type=style&index=0&id=51498976&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51498976\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$locales","t","attrs","filterProps","on","applyFilter","groups","length","_e","_l","group","key","id","studentCount","studentIds","staticRenderFns","name","data","count","pageSize","created","Object","computed","value","type","options","mounted","methods","get","url","params","pageNo","orderBy","queryFilter","then","pageData","save","component"],"sourceRoot":""}